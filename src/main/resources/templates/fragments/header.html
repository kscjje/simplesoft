<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	<th:block th:fragment="header">
		<!-- Header (s) -->
		<style>
		    .mobile-menu {
		        transition: right 0.3s ease;
		    }
		    
		    .mobile-menu.active {
		        right: 0;
		    }
		    
		    .mobile-menu-overlay.active {
		        display: block;
		    }
		    
		    .nav-item>a {
		        list-style: none; 
		        text-decoration: none; 
		        color: rgb(0, 0, 64);
		        font-family:'NotoSans';
		        font-weight:600;
		    }
		    
		    .auth-item>a {
		        list-style: none; 
		        text-decoration: none; 
		        color: rgb(100, 100, 100);
		        font-family:'NotoSans';
		        font-weight:400;
		    }
		    .auth-menu {
		        flex-wrap: nowrap;
		        white-space: nowrap;
		    }
		    
		    .main-content {
		        display: flex;
		        align-items: center;
		        gap: 2rem;
		    }
		    
			/* 데스크탑 (해상도 1280px 이상) */
			@media all and (min-width: 1280px) {
				/* 데스크탑 전용 스타일 */								
				.submenu {
					border-top:1px solid rgba(0,0,0,0.055);
					border-bottom: 1px solid rgba(0,0,0,0.055);
					display: flex;
					align-items: center;
					justify-content: space-between;
					position: relative;
					max-width: 1200px;
					margin: 0 auto;
					padding: 0 1.25rem;
				}
				.main-content {
			        position: absolute;
			        left: 50%;
			        transform: translateX(-50%);
			    }
				.nav.container {
				    display: flex;
				    list-style: none;
				    margin: 0;
				    padding: 0;
				}
				.nav-item {
					margin-left: 2rem;
					font-size: 18px;
					height: 50px;
				}
				.auth-item {
					margin-left: 1.5rem;
					font-size: 14px;
				}
				.auth-menu {
					position: absolute;
					right: 1.25rem;
				}
			}
			
			/* 노트북 & 테블릿 가로 (해상도 1024px ~ 1279px) */
			@media all and (min-width: 1024px) and (max-width: 1279px) {			
				.mb-5 {
					margin-bottom: 1.0rem !important;
				}
				.topbanner{ width:100%;}
				.header {width: 575; height: 75px;}
				.submenu {
					display: flex;
					border-top:1px solid rgba(0,0,0,0.055);
					border-bottom: 1px solid rgba(0,0,0,0.055);
					align-items: center;
					justify-content: space-between;
					padding: 0 1.25rem;
					position: relative;
				}
			    .main-content {
			        position: absolute;
			        left: 50%;
			        transform: translateX(-50%);
			    }
				.nav-item {
					font-size: 16px;
					margin-left: 2rem;
					height: auto;
				}
				.auth-item {
					margin-left: 1rem;
					font-size: 12px;
				}
				.auth-menu {
					position: absolute;
					right: 1rem;
				}
			}
			
			/* 테블릿 가로 (해상도 768px ~ 1023px) */
			@media all and (min-width: 768px) and (max-width: 1023px) {
				.mb-5 {
					margin-bottom: 1.0rem !important;
				}
				.topbanner{ width:100%;}
				.header {width: 575; height: 60px;}
				.submenu {
					display: flex;
					border-top:1px solid rgba(0,0,0,0.055);
					border-bottom: 1px solid rgba(0,0,0,0.055);
					align-items: center;
					position: relative;
				}
				.nav-item {
					font-size: 14px;
					height: auto;
				}
				.auth-item {
					margin-left: 0.75rem;
					font-size: 11px;
				}
				.auth-menu {
					position: absolute;
					right: 1rem;
				}
			}
			
			/* 모바일 가로 & 테블릿 세로 (해상도 480px ~ 767px) */
			@media all and (min-width: 480px) and (max-width: 767px) {
				.mb-5 {
					margin-bottom: 1.0rem !important;
				}
				.topbanner{ width:100%;}
				.header {width: 575; height: 40px;}
				.submenu {
					display: flex;
					border-top:1px solid rgba(0,0,0,0.055);
					border-bottom: 1px solid rgba(0,0,0,0.055);
					align-items: center;
					justify-content: center;
					position: relative;
					padding: 0 1rem;
				}
				.nav.container {
				    gap: 2rem;
				}
				.nav-item {
					font-size: 12px;
					height: auto;
				}
				.main-content {
					gap: 1rem;
				}
				.mobile-menu-btn {
					position: absolute;
					right: 1rem;
				}
			}		 
			
			/* 모바일 세로 (해상도 ~ 479px) */
			@media all and (max-width: 479px) {
				.mb-5 {
					margin-bottom: 1.5rem !important;
				}
				.topbanner{ width:100%; } 
				.header {width: 575; height: 30px;}
				.submenu {
					display: flex;
					border-top:1px solid rgba(0,0,0,0.055);
					border-bottom: 1px solid rgba(0,0,0,0.055);
					align-items: center;
					justify-content: space-between;
					padding: 0 1rem;
				}
				.nav-item {
					font-size: 8px;
					height: auto;
				}
			}
			.nav {
				justify-content: flex-start;
			}
			.nav-item>a{
				list-style: none; 
				text-decoration: none; 
				color: rgb(0, 0, 64);
				font-family:'NotoSans';
				font-weight:600;
			}
		</style>
		<div id="wrap" class="mb-5">
			<div class="header text-center" style="background-color: #FBF3DD;" >
				<img src="/image/banner.png" class="topbanner mx-auto">
			</div>
			<div id="submenu" class="submenu">
				
				<!-- 로고 (1024px 이상에서 왼쪽) -->
			    <div class="flex-shrink-0 hidden lg:block">
			        <a href="/main">
			            <img src="/image/logo.jpg" alt="밥수니반찬헤더로고" class="h-8 lg:h-12">
			        </a>
			    </div>
				<!-- 중앙 컨텐츠 (로고 + 큰 메뉴) - 480px 이상에서 표시 -->
				<div class="main-content">
					<!-- 로고 (1024px 미만에서만 표시) -->
			        <div class="flex-shrink-0 md:ml-8 lg:ml-0 lg:hidden">
			            <a href="/main">
			                <img src="/image/logo.jpg" alt="밥수니반찬헤더로고" class="h-4 md:h-8">
			            </a>
			        </div>
					<!-- 큰 메뉴 -->
			        <ul class="flex nav container">
			            <li class="nav-item">
			                <a href="/order" class="nav-link md:text-base lg:text-lg">주문하기</a>
			            </li>
			            <li class="nav-item">
			                <a href="/foodtable" class="nav-link md:text-base lg:text-lg">이달의식단</a>
			            </li>
			            <li class="nav-item">
			                <a href="/cart" class="nav-link md:text-base lg:text-lg">장바구니</a>
			            </li>
			        </ul>
		        </div>
		        
		        <!-- 우측 인증 메뉴 (768px 이상에서만 표시) -->
		        <ul class="hidden md:flex items-center auth-menu" style="gap: 1rem;">
		            <th:block th:if="${session.loginInfo != null}">
						<li class="auth-item">
							<a href="/logout" class="nav-link text-xs md:text-sm">로그아웃</a>
						</li>
						<li class="auth-item">
							<a href="/mypage/orderInfo" class="nav-link text-xs md:text-sm">마이페이지</a>
						</li>
					</th:block>
		            <th:block th:if="${session.loginInfo == null}">
			            <li class="auth-item">
			                <a href="/login" class="nav-link text-xs md:text-sm">로그인</a>
			            </li>
			            <li class="auth-item">
			                <a href="/joinStep1" class="nav-link text-xs md:text-sm">회원가입</a>
			            </li>
		            </th:block>
					<li class="auth-item">
		                <a href="/mypage/noneOrderCheck" class="nav-link text-xs md:text-sm">비회원주문조회</a>
		            </li>
		        </ul>
		        
				<!-- 햄버거 버튼 (768px 미만에서만 표시) -->
				<div class="md:hidden mobile-menu-btn">
                    <button type="button" class="text-gray-700 hover:text-orange-500 focus:outline-none focus:text-orange-500 mt-1" onclick="toggleMobileMenu()">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
		    </div>
		    
		    <!-- Mobile Navigation Menu -->
            <div id="mobile-menu" class="md:hidden hidden border-t border-gray-200">
                <div class="px-2 pt-2 pb-3 space-y-1">
                    <a href="/order" class="block px-3 py-2 text-gray-700 rounded-md font-medium transition-colors duration-200">
                        주문하기
                    </a>
                    <a href="/foodtable" class="block px-3 py-2 text-gray-700 rounded-md font-medium transition-colors duration-200">
                        이달의식단
                    </a>
                    <a href="/cart" class="block px-3 py-2 text-gray-700 rounded-md font-medium transition-colors duration-200">
                        장바구니
                    </a>
                    <a href="/mypage/noneOrderCheck" class="block px-3 py-2 text-gray-700 rounded-md font-medium transition-colors duration-200">
                        비회원주문조회
                    </a>
                    <div class="border-t border-gray-200 pt-2 mt-2">
						<th:block th:if="${session.loginInfo == null}">
	                        <a href="/login" class="block px-3 py-2 rounded-md font-medium transition-colors duration-200">
	                            로그인
	                        </a>
	                        <a href="/joinStep1" class="block px-3 py-2 rounded-md font-medium transition-colors duration-200">
	                            회원가입
	                        </a>
	                        <a href="/findId" class="block px-3 py-2 rounded-md font-medium transition-colors duration-200">
	                            아이디찾기
	                        </a>
                        </th:block>
                        <th:block th:if="${session.loginInfo != null}">
							<a href="/logout" class="block px-3 py-2 rounded-md font-medium transition-colors duration-200">
	                            로그아웃
	                        </a>
							<a href="/mypage/orderInfo" class="block px-3 py-2 rounded-md font-medium transition-colors duration-200">
	                            마이페이지
	                        </a>
						</th:block>
                    </div>
                </div>
            </div>
		 </div>
		<script>
			function toggleMobileMenu() {
				const mobileMenu = document.getElementById('mobile-menu');
				mobileMenu.classList.toggle('hidden');
			}
		</script>
	</th:block>
</html>