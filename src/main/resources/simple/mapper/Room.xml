<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.simplesoft.mapper.room.RoomMapper">

	<!-- 결제정보 생성 -->
	<insert id="insertRoom" parameterType="hashMap">
		/* RoomMapper.insertRoom */
		INSERT INTO ROOM
			(
					USER_NAME
				,	REG_DT
			)
		VALUES(
					#{userName}
				,	NOW()
		) ON DUPLICATE KEY
		UPDATE USER_NAME = #{userName}
	</insert>
	
	<select id="selectRoomDetail" parameterType="hashMap" resultType="CamelHashMap">
		/* RoomMapper.selectRoomDetail */
		SELECT
			  *
		FROM ROOM A
		WHERE 1=1
		AND A.USER_NAME = #{userName}
	</select>
	
	<update id="updateRoom" parameterType="hashMap">
		/* RoomMapper.updateRoom */
		UPDATE ROOM SET
		<if test="type == '01'">
			HINT1 = 'Y'
		</if>
		<if test="type == '02'">
			HINT2 = 'Y'
		</if>
		<if test="type == '03'">
			HINT3 = 'Y'
		</if>
		<if test="type == '04'">
			HINT4 = 'Y'
		</if>
		<if test="suc == 'Y'">
			SUC_DT = NOW();
		</if>
		WHERE USER_NAME = #{userName}
	</update>
	
</mapper>