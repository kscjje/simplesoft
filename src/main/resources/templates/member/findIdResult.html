<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		layout:decorate="~{layouts/mypage_layout}">
		<main class="content-wrapper" layout:fragment="content">
			<style>
				.content-container {
					max-width: 600px;
					margin: 0 auto;
				}
			</style>
			<div class="content-container justify-content-center text-center">
			    <div class="rounded-lg p-8 overflow-y-auto leading-relaxed mb-5 bg-white shadow-lg max-w-md mx-auto">
			        <!-- 성공 아이콘 -->
			        <div class="mb-6">
			            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto">
			                <svg class="w-10 h-10 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
			                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
			                </svg>
			            </div>
			        </div>

			        <!-- 제목 -->
			        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
			            아이디 찾기 완료
			        </h1>

			        <!-- 안내 메시지 -->
			        <p class="text-gray-600 mb-6">
			            조회된 아이디는 아래와 같습니다.
			        </p>

			        <!-- 아이디 표시 영역 -->
			        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8">
			            <p class="text-sm text-gray-500 mb-2">가입된 아이디</p>
			            <p th:text="${userId}" class="text-2xl font-bold text-blue-600"></p>
			            <p class="text-xs text-gray-400 mt-3" th:text="|가입일: ${regDt}|"></p>
			        </div>

			        <!-- 버튼 영역 -->
			        <div class="flex space-x-3">
			            <button type="button" 
			                    onclick="location.href='/findPassword'" 
			                    class="flex-1 py-3 text-base font-semibold text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200">
			                비밀번호 찾기
			            </button>
			            <button type="button" 
			                    onclick="location.href='/login'" 
			                    class="flex-1 py-3 text-base font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors duration-200">
			                로그인하기
			            </button>
			        </div>

			        <!-- 추가 안내 -->
			        <p class="text-xs text-gray-500 mt-6">
			            비밀번호가 기억나지 않으시나요?<br>
			            <a href="/findPassword" class="text-blue-600 hover:underline">비밀번호 찾기</a>를 이용해주세요.
			        </p>
			    </div>
			</div>
		
			<script th:inline="javascript">
				
				//아이디찾기
				fnFindId = function(){
					let userNm = $('#userNm').val();
					let userMobile = $('#userMobile').val();
					
					if(userNm == ""){
						alert("이름 입력해 주세요.");
						$('#userNm').focus();
						return;
					} else if(userMobile == ""){
						alert("핸드폰번호를 입력해 주세요.")
						$('#userMobile').focus();
						return;
					}
					let loginInfo = {
						userNm : userNm,
						userMobile : userMobile
					}
					$.ajax({
						url : "/rest/member/findIdAjax",
						type : "POST",
						dataType : "json",
						data : loginInfo,
						success : function(data) {
							if(data.data?.userId != null){
								alert(data.data.userId);
							} else{
								alert("등록된 회원이 없습니다.");
							}
						}, error : function(request, status, error) {
							alert("관리자에게 문의해 주세요.");
						}
					});
				}
				enterKey = function(type){
					if (window.event.keyCode == 13) {
						fnFindId();
					}
				}
			</script>
		</main>
</html>